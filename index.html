<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BPGT Terminal System</title>

    <!-- PWA: Makes Chrome bar disappear when installed -->
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="BPGT">
    <link rel="apple-touch-icon" href="icon-192.png">
    <meta name="theme-color" content="#1e3a8a">
    <meta name="mobile-web-app-capable" content="yes">

    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('service-worker.js')
            .catch(e => console.log('SW:', e));
        });
      }
    </script>

    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }

        html, body {
            width: 100%;
            min-height: 100vh;
            background: linear-gradient(160deg, #1e3a8a 0%, #1d4ed8 50%, #1e40af 100%);
            font-family: 'Segoe UI', Arial, sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .login-wrapper {
            width: 100%;
            max-width: 420px;
            padding: 20px;
        }

        .login-header {
            text-align: center;
            margin-bottom: 28px;
        }
        .login-logo {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            border: 4px solid rgba(255,255,255,0.4);
            margin-bottom: 14px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.3);
        }
        .login-title {
            font-size: 20px;
            font-weight: 800;
            color: white;
            letter-spacing: 0.5px;
        }
        .login-subtitle {
            font-size: 13px;
            color: rgba(255,255,255,0.75);
            margin-top: 4px;
        }

        .login-card {
            background: white;
            border-radius: 20px;
            padding: 28px 24px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .form-group { margin-bottom: 18px; }
        .form-group label {
            display: block;
            font-size: 12px;
            font-weight: 700;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 6px;
        }
        .form-group input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 16px;
            color: #1e293b;
            transition: border-color 0.2s;
            background: #f8fafc;
        }
        .form-group input:focus {
            outline: none;
            border-color: #1e3a8a;
            background: white;
        }

        .login-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #1e3a8a, #1d4ed8);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 12px rgba(30,58,138,0.4);
            transition: all 0.2s;
        }
        .login-btn:active { transform: scale(0.98); }

        .login-links {
            text-align: center;
            margin-top: 16px;
            font-size: 13px;
            color: #64748b;
        }
        .login-links a { color: #1d4ed8; text-decoration: none; }

        .error-msg {
            background: #fee2e2;
            color: #991b1b;
            border: 1.5px solid #ef4444;
            border-radius: 8px;
            padding: 10px 14px;
            font-size: 13px;
            margin-bottom: 14px;
            display: none;
        }

        .footer-brand {
            text-align: center;
            margin-top: 20px;
            font-size: 12px;
            color: rgba(255,255,255,0.45);
        }
    </style>
</head>
<body>

<div class="login-wrapper">
    <div class="login-header">
        <img src="bpgt-logo.png" alt="BPGT Logo" class="login-logo"
             onerror="this.src='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><circle cx=%2250%22 cy=%2250%22 r=%2250%22 fill=%22%231e3a8a%22/><text y=%22.9em%22 font-size=%2240%22 x=%2250%22 text-anchor=%22middle%22 fill=%22white%22 font-family=%22Arial%22>üöå</text></svg>'">
        <div class="login-title">BROOKE'S POINT GRAND TERMINAL</div>
        <div class="login-subtitle">Passenger & Revenue Monitoring System</div>
    </div>

    <div class="login-card">
        <div class="error-msg" id="error-msg"></div>

        <div class="form-group">
            <label>Username</label>
            <input type="text" id="username" placeholder="Enter your username"
                   autocomplete="username" autocapitalize="none" autocorrect="off">
        </div>

        <div class="form-group">
            <label>Password</label>
            <input type="password" id="password" placeholder="Enter your password"
                   autocomplete="current-password">
        </div>

        <button class="login-btn" onclick="login()">üîê LOGIN</button>

        <div class="login-links">
            <a href="#" onclick="showRegister()">Create Account</a>
            &nbsp;|&nbsp;
            <a href="#" onclick="showForgotPassword()">Forgot Password?</a>
        </div>
    </div>

    <div class="footer-brand">-=pagong=- üê¢ &nbsp;|&nbsp; BPGT Terminal System v4.5</div>
</div>

<script src="auth.js"></script>
<script>
    // Allow Enter key to login
    document.getElementById('password').addEventListener('keydown', e => {
        if (e.key === 'Enter') login();
    });
    document.getElementById('username').addEventListener('keydown', e => {
        if (e.key === 'Enter') document.getElementById('password').focus();
    });
</script>

</body>
</html>
